
# Декомпозиция на домены и построение Data Flow Diagram

## 1. Декомпозиция на домены

На основе анализа текущего ландшафта компании "Будущее 2.0" предлагается разделение на следующие логически независимые домены:

### 1.1 Клиники

- Описание: Ведение клиентской информации, истории болезней, медкарт, расписаний и взаимодействие с врачами.
- Сервисы: Клиентский UI, операционные системы, интеграция с ИИ.

### 1.2 Финтех-домен

- Описание: Обслуживание финансовых операций, управление счетами, кредитами, транзакциями, формирование фин. отчетности.
- Сервисы: Финтех API, хранилища транзакций, скоринговые сервисы.

### 1.3 Медицинский ИИ

- Описание: Анализ медицинских данных с помощью ML/AI, включая диагностику и прогнозирование.
- Сервисы: Модели машинного обучения, диагностические API, хранилища результатов.

### 1.4 Data Platform

- Описание: Хранилище данных (Lakehouse), управление метаданными, витрины данных.
- Сервисы: Хранилища, data pipeline, data governance (каталог, lineage, ACL).

### 1.5 BI и Аналитика

- Описание: Self-service BI, построение отчётов, витрины по доменам.
- Сервисы: BI-портал, аналитические представления, доступ к витринам.

### 1.6 Интеграции / Ingest

- Описание: Интеграция внешних систем и источников данных (включая legacy), потоковая обработка событий.
- Сервисы: Kafka, CDC, Airbyte, ETL-инструменты.

---

## 2. Data Flow Diagram (описание потоков)

```
[Клиники] --> [API Gateway] --> [Operator Backend] --> [Kafka] --> [Lakehouse]
[Финтех-сервисы] <--> [Kafka] <--> [Lakehouse]
[ИИ-сервисы] <--> [Kafka] <--> [Lakehouse]
[Ingest] --> [Kafka] --> [Lakehouse]
[Lakehouse] --> [Витрины данных] --> [BI-портал]
[Governance] <--> [Lakehouse, Витрины]
```

---

## 3. Аргументация выбора доменной модели

### ✅ Преимущества:

1. **Изоляция ответственности:**
   - Каждая команда может развивать свой домен независимо, не затрагивая другие.

2. **Упрощение масштабирования:**
   - Архитектура позволяет горизонтально масштабировать аналитические, ИИ и финтех-нагрузки.

3. **Замена legacy без боли:**
   - Возможна постепенная миграция от DWH и PowerBuilder без блокировки бизнес-функций.

4. **Прозрачные потоки данных:**
   - С помощью Kafka и CDC данные распространяются между доменами через event-driven подход, а не через централизованный монолит.

5. **Гибкое управление доступом:**
   - Возможна реализация RBAC/ABAC на уровне витрин, а не глобального DWH.

6. **Поддержка self-service:**
   - Внедрение BI-портала и витрин избавляет ИТ от рутинной генерации отчетов.

7. **Ускорение time-to-insight:**
   - Архитектура поддерживает real-time обработку и быструю генерацию отчётов.

---
